<?xml version="1.0" encoding="UTF-8"?>
<WeaponAttachments>
    <!-- ========== ATTACHMENT CATEGORIES ========== -->
    <AttachmentCategories>
        <Category name="OPTICS">
            <Description>Sights, scopes, and aiming devices</Description>
            <AttachmentSlot>OpticSlot</AttachmentSlot>
            <SocketName>OpticSocket</SocketName>
        </Category>

        <Category name="BARREL">
            <Description>Suppressors, compensators, and muzzle devices</Description>
            <AttachmentSlot>BarrelSlot</AttachmentSlot>
            <SocketName>MuzzleSocket</SocketName>
        </Category>

        <Category name="GRIP">
            <Description>Foregrips and bipods</Description>
            <AttachmentSlot>GripSlot</AttachmentSlot>
            <SocketName>GripSocket</SocketName>
        </Category>

        <Category name="SIDE">
            <Description>Tactical lights and lasers</Description>
            <AttachmentSlot>SideSlot</AttachmentSlot>
            <SocketName>SideSocket</SocketName>
        </Category>

        <Category name="MAGAZINE">
            <Description>Extended magazines and drum mags</Description>
            <AttachmentSlot>MagazineSlot</AttachmentSlot>
            <SocketName>MagazineSocket</SocketName>
        </Category>

        <Category name="STOCK">
            <Description>Stocks and stabilizers</Description>
            <AttachmentSlot>StockSlot</AttachmentSlot>
            <SocketName>StockSocket</SocketName>
        </Category>
    </AttachmentCategories>

    <!-- ========== INDIVIDUAL ATTACHMENTS ========== -->
    <Attachments>
        <!-- ========== OPTICS ========== -->
        <Attachment name="RED_DOT_SIGHT" category="OPTICS">
            <DisplayName>Red Dot Sight</DisplayName>
            <Description>Basic reflex sight for close to medium range</Description>
            <AttachmentSkeleton>Content/Weapons/Attachments/Optics/Skeleton/SK_RedDotSight</AttachmentSkeleton>
            
            <UE5Assets>
                <AttachmentMesh>Content/Weapons/Attachments/Optics/Meshes/SM_RedDotSight</AttachmentMesh>
                <AttachmentMaterial>Content/Weapons/Attachments/Optics/Materials/M_RedDotSight</AttachmentMaterial>
                <ScopeWidget>Content/UI/Weapons/W_RedDotReticle</ScopeWidget>
                <SoundFile>/Game/Audio/Weapons/Attachments/attachment_install_01</SoundFile><AudioFlags>SPATIAL_3D | HIGH_PRIORITY</AudioFlags>
            </UE5Assets>

            <PhysicsProperties>
                <HasPhysics>true</HasPhysics>
                <CanDetach>true</CanDetach>
                <DetachmentThreshold>150.0</DetachmentThreshold>
                <DetachmentImpulse>500.0</DetachmentImpulse>
                <CollisionType>WorldDynamic</CollisionType>
                <Mass>0.2</Mass>
                <LinearDamping>0.1</LinearDamping>
                <AngularDamping>0.1</AngularDamping>
            </PhysicsProperties>

            <ModifierEffects>
                <AimSpeed>1.1</AimSpeed>
                <Accuracy>1.15</Accuracy>
                <Range>1.0</Range>
                <ReticleScale>0.8</ReticleScale>
                <ZoomLevel>1.5</ZoomLevel>
            </ModifierEffects>

            <CompatibleWeapons>
                <Weapon skeleton="Content/Weapons/Pistol/Skeleton/SK_Pistol">PISTOL</Weapon>
                <Weapon skeleton="Content/Weapons/Pistol/Skeleton/SK_DesertEagle">DEAGLE</Weapon>
                <Weapon skeleton="Content/Weapons/Rifle/Skeleton/SK_AK47">AK47</Weapon>
                <Weapon skeleton="Content/Weapons/Rifle/Skeleton/SK_M4">M4</Weapon>
                <Weapon skeleton="Content/Weapons/Shotgun/Skeleton/SK_Shotgun">SHOTGUN</Weapon>
            </CompatibleWeapons>

            <Cost>850</Cost>
            <Weight>0.2</Weight>
            <UnlockLevel>5</UnlockLevel>
        </Attachment>

        <Attachment name="ACOG_SCOPE" category="OPTICS">
            <DisplayName>ACOG 4x Scope</DisplayName>
            <Description>Advanced combat optical gunsight with 4x magnification</Description>
            <AttachmentSkeleton>Content/Weapons/Attachments/Optics/Skeleton/SK_ACOGScope</AttachmentSkeleton>
            
            <UE5Assets>
                <AttachmentMesh>Content/Weapons/Attachments/Optics/Meshes/SM_ACOGScope</AttachmentMesh>
                <AttachmentMaterial>Content/Weapons/Attachments/Optics/Materials/M_ACOGScope</AttachmentMaterial>
                <ScopeWidget>Content/UI/Weapons/W_ACOGReticle</ScopeWidget>
                <SoundFile>/Game/Audio/Weapons/Attachments/attachment_install_01</SoundFile><AudioFlags>SPATIAL_3D | HIGH_PRIORITY</AudioFlags>
            </UE5Assets>

            <PhysicsProperties>
                <HasPhysics>true</HasPhysics>
                <CanDetach>true</CanDetach>
                <DetachmentThreshold>200.0</DetachmentThreshold>
                <DetachmentImpulse>800.0</DetachmentImpulse>
                <CollisionType>WorldDynamic</CollisionType>
                <Mass>0.8</Mass>
                <LinearDamping>0.1</LinearDamping>
                <AngularDamping>0.1</AngularDamping>
            </PhysicsProperties>

            <ModifierEffects>
                <AimSpeed>0.8</AimSpeed>
                <Accuracy>1.3</Accuracy>
                <Range>1.5</Range>
                <ReticleScale>0.5</ReticleScale>
                <ZoomLevel>4.0</ZoomLevel>
            </ModifierEffects>

            <CompatibleWeapons>
                <Weapon skeleton="Content/Weapons/Rifle/Skeleton/SK_AK47">AK47</Weapon>
                <Weapon skeleton="Content/Weapons/Rifle/Skeleton/SK_M4">M4</Weapon>
                <Weapon skeleton="Content/Weapons/Sniper/Skeleton/SK_SniperRifle">SNIPERRIFLE</Weapon>
            </CompatibleWeapons>

            <Cost>1500</Cost>
            <Weight>0.8</Weight>
            <UnlockLevel>12</UnlockLevel>
        </Attachment>

        <Attachment name="SNIPER_SCOPE" category="OPTICS">
            <DisplayName>High Power Scope</DisplayName>
            <Description>Long range scope with variable magnification</Description>
            <SkeletonPath>Content/Characters/PlayerNiko/Skeleton/SK_PlayerNiko</SkeletonPath>
            
            <UE5Assets>
                <AttachmentMesh>Content/Weapons/Attachments/Optics/Meshes/SM_SniperScope</AttachmentMesh>
                <AttachmentMaterial>Content/Weapons/Attachments/Optics/Materials/M_SniperScope</AttachmentMaterial>
                <ScopeWidget>Content/UI/Weapons/W_SniperScopeReticle</ScopeWidget>
                <SoundFile>/Game/Audio/Weapons/Attachments/attachment_install_01</SoundFile><AudioFlags>SPATIAL_3D | HIGH_PRIORITY</AudioFlags>
            </UE5Assets>

            <ModifierEffects>
                <AimSpeed>0.6</AimSpeed>
                <Accuracy>2.0</Accuracy>
                <Range>3.0</Range>
                <ReticleScale>0.2</ReticleScale>
                <ZoomLevel>12.0</ZoomLevel>
                <MaxZoomLevel>16.0</MaxZoomLevel>
            </ModifierEffects>

            <CompatibleWeapons>
                <Weapon>SNIPERRIFLE</Weapon>
                <Weapon>M40A1</Weapon>
            </CompatibleWeapons>

            <Cost>2800</Cost>
            <Weight>1.2</Weight>
            <UnlockLevel>20</UnlockLevel>
        </Attachment>

        <!-- ========== BARREL ATTACHMENTS ========== -->
        <Attachment name="SUPPRESSOR" category="BARREL">
            <DisplayName>Sound Suppressor</DisplayName>
            <Description>Reduces weapon noise and muzzle flash</Description>
            <SkeletonPath>Content/Characters/PlayerNiko/Skeleton/SK_PlayerNiko</SkeletonPath>
            
            <UE5Assets>
                <AttachmentMesh>Content/Weapons/Attachments/Barrel/Meshes/SM_Suppressor</AttachmentMesh>
                <AttachmentMaterial>Content/Weapons/Attachments/Barrel/Materials/M_Suppressor</AttachmentMaterial>
                <SoundFile>/Game/Audio/Weapons/Attachments/attachment_install_01</SoundFile><AudioFlags>SPATIAL_3D | HIGH_PRIORITY</AudioFlags>
                <SuppressedFireSound>Content/Audio/Weapons/SC_Suppressed_Fire</SuppressedFireSound>
            </UE5Assets>

            <ModifierEffects>
                <NoiseReduction>0.7</NoiseReduction>
                <MuzzleFlashReduction>0.8</MuzzleFlashReduction>
                <Damage>0.95</Damage>
                <Range>0.9</Range>
                <Velocity>0.92</Velocity>
            </ModifierEffects>

            <CompatibleWeapons>
                <Weapon>PISTOL</Weapon>
                <Weapon>DEAGLE</Weapon>
                <Weapon>AK47</Weapon>
                <Weapon>M4</Weapon>
                <Weapon>SNIPERRIFLE</Weapon>
            </CompatibleWeapons>

            <Cost>1200</Cost>
            <Weight>0.4</Weight>
            <UnlockLevel>8</UnlockLevel>
        </Attachment>

        <Attachment name="COMPENSATOR" category="BARREL">
            <DisplayName>Muzzle Compensator</DisplayName>
            <Description>Reduces recoil and muzzle climb</Description>
            <SkeletonPath>Content/Characters/PlayerNiko/Skeleton/SK_PlayerNiko</SkeletonPath>
            
            <UE5Assets>
                <AttachmentMesh>Content/Weapons/Attachments/Barrel/Meshes/SM_Compensator</AttachmentMesh>
                <AttachmentMaterial>Content/Weapons/Attachments/Barrel/Materials/M_Compensator</AttachmentMaterial>
                <SoundFile>/Game/Audio/Weapons/Attachments/attachment_install_01</SoundFile><AudioFlags>SPATIAL_3D | HIGH_PRIORITY</AudioFlags>
                <MuzzleFlashEffect>Content/VFX/Weapons/VFX_Muzzle_Compensated</MuzzleFlashEffect>
            </UE5Assets>

            <ModifierEffects>
                <RecoilReduction>0.75</RecoilReduction>
                <MuzzleClimbReduction>0.8</MuzzleClimbReduction>
                <Accuracy>1.1</Accuracy>
                <NoiseIncrease>1.1</NoiseIncrease>
            </ModifierEffects>

            <CompatibleWeapons>
                <Weapon>PISTOL</Weapon>
                <Weapon>DEAGLE</Weapon>
                <Weapon>AK47</Weapon>
                <Weapon>M4</Weapon>
                <Weapon>SHOTGUN</Weapon>
            </CompatibleWeapons>

            <Cost>650</Cost>
            <Weight>0.2</Weight>
            <UnlockLevel>6</UnlockLevel>
        </Attachment>

        <!-- ========== GRIPS ========== -->
        <Attachment name="VERTICAL_GRIP" category="GRIP">
            <DisplayName>Vertical Foregrip</DisplayName>
            <Description>Improves weapon stability and control</Description>
            <SkeletonPath>Content/Characters/PlayerNiko/Skeleton/SK_PlayerNiko</SkeletonPath>
            
            <UE5Assets>
                <AttachmentMesh>Content/Weapons/Attachments/Grips/Meshes/SM_VerticalGrip</AttachmentMesh>
                <AttachmentMaterial>Content/Weapons/Attachments/Grips/Materials/M_VerticalGrip</AttachmentMaterial>
                <SoundFile>/Game/Audio/Weapons/Attachments/attachment_install_01</SoundFile><AudioFlags>SPATIAL_3D | HIGH_PRIORITY</AudioFlags>
            </UE5Assets>

            <ModifierEffects>
                <RecoilReduction>0.85</RecoilReduction>
                <Stability>1.2</Stability>
                <AimDownSightSpeed>0.95</AimDownSightSpeed>
                <MovementSpeed>0.98</MovementSpeed>
            </ModifierEffects>

            <CompatibleWeapons>
                <Weapon>AK47</Weapon>
                <Weapon>M4</Weapon>
                <Weapon>SHOTGUN</Weapon>
            </CompatibleWeapons>

            <Cost>400</Cost>
            <Weight>0.3</Weight>
            <UnlockLevel>4</UnlockLevel>
        </Attachment>

        <Attachment name="BIPOD" category="GRIP">
            <DisplayName>Bipod</DisplayName>
            <Description>Deployable bipod for prone shooting stability</Description>
            <SkeletonPath>Content/Characters/PlayerNiko/Skeleton/SK_PlayerNiko</SkeletonPath>
            
            <UE5Assets>
                <AttachmentMesh>Content/Weapons/Attachments/Grips/Meshes/SM_Bipod</AttachmentMesh>
                <AttachmentMaterial>Content/Weapons/Attachments/Grips/Materials/M_Bipod</AttachmentMaterial>
                <SoundFile>/Game/Audio/Weapons/Attachments/attachment_install_01</SoundFile><AudioFlags>SPATIAL_3D | HIGH_PRIORITY</AudioFlags>
                <DeploySound>Content/Audio/Weapons/Attachments/SC_Bipod_Deploy</DeploySound>
            </UE5Assets>

            <ModifierEffects>
                <ProneAccuracy>1.8</ProneAccuracy>
                <ProneRecoilReduction>0.5</ProneRecoilReduction>
                <StandingMovement>0.9</StandingMovement>
                <Deployable>true</Deployable>
            </ModifierEffects>

            <CompatibleWeapons>
                <Weapon>AK47</Weapon>
                <Weapon>M4</Weapon>
                <Weapon>SNIPERRIFLE</Weapon>
            </CompatibleWeapons>

            <Cost>800</Cost>
            <Weight>0.6</Weight>
            <UnlockLevel>10</UnlockLevel>
        </Attachment>

        <!-- ========== SIDE ATTACHMENTS ========== -->
        <Attachment name="TACTICAL_LIGHT" category="SIDE">
            <DisplayName>Tactical Flashlight</DisplayName>
            <Description>High-intensity tactical light</Description>
            <SkeletonPath>Content/Characters/PlayerNiko/Skeleton/SK_PlayerNiko</SkeletonPath>
            
            <UE5Assets>
                <AttachmentMesh>Content/Weapons/Attachments/Side/Meshes/SM_TacticalLight</AttachmentMesh>
                <AttachmentMaterial>Content/Weapons/Attachments/Side/Materials/M_TacticalLight</AttachmentMaterial>
                <SoundFile>/Game/Audio/Weapons/Attachments/attachment_install_01</SoundFile><AudioFlags>SPATIAL_3D | HIGH_PRIORITY</AudioFlags>
                <LightComponent>TacticalLightComponent</LightComponent>
                <LightIntensity>5000.0</LightIntensity>
            </UE5Assets>

            <ModifierEffects>
                <NightVision>true</NightVision>
                <EnemyBlinding>true</EnemyBlinding>
                <BlindingRange>15.0</BlindingRange>
                <BatteryLife>3600.0</BatteryLife>
            </ModifierEffects>

            <CompatibleWeapons>
                <Weapon>PISTOL</Weapon>
                <Weapon>DEAGLE</Weapon>
                <Weapon>AK47</Weapon>
                <Weapon>M4</Weapon>
                <Weapon>SHOTGUN</Weapon>
            </CompatibleWeapons>

            <Cost>300</Cost>
            <Weight>0.2</Weight>
            <UnlockLevel>3</UnlockLevel>
        </Attachment>

        <Attachment name="LASER_SIGHT" category="SIDE">
            <DisplayName>Laser Sight</DisplayName>
            <Description>Red laser for improved hip fire accuracy</Description>
            <SkeletonPath>Content/Characters/PlayerNiko/Skeleton/SK_PlayerNiko</SkeletonPath>
            
            <UE5Assets>
                <AttachmentMesh>Content/Weapons/Attachments/Side/Meshes/SM_LaserSight</AttachmentMesh>
                <AttachmentMaterial>Content/Weapons/Attachments/Side/Materials/M_LaserSight</AttachmentMaterial>
                <SoundFile>/Game/Audio/Weapons/Attachments/attachment_install_01</SoundFile><AudioFlags>SPATIAL_3D | HIGH_PRIORITY</AudioFlags>
                <LaserEffect>Content/VFX/Weapons/VFX_Laser_Sight</LaserEffect>
            </UE5Assets>

            <ModifierEffects>
                <HipFireAccuracy>1.4</HipFireAccuracy>
                <AimAssist>true</AimAssist>
                <EnemyDetection>true</EnemyDetection>
                <LaserRange>100.0</LaserRange>
            </ModifierEffects>

            <CompatibleWeapons>
                <Weapon>PISTOL</Weapon>
                <Weapon>DEAGLE</Weapon>
                <Weapon>AK47</Weapon>
                <Weapon>M4</Weapon>
                <Weapon>SHOTGUN</Weapon>
            </CompatibleWeapons>

            <Cost>500</Cost>
            <Weight>0.1</Weight>
            <UnlockLevel>7</UnlockLevel>
        </Attachment>

        <!-- ========== MAGAZINES ========== -->
        <Attachment name="EXTENDED_MAG" category="MAGAZINE">
            <DisplayName>Extended Magazine</DisplayName>
            <Description>Increases ammunition capacity by 50%</Description>
            <SkeletonPath>Content/Characters/PlayerNiko/Skeleton/SK_PlayerNiko</SkeletonPath>
            
            <UE5Assets>
                <AttachmentMesh>Content/Weapons/Attachments/Magazines/Meshes/SM_ExtendedMag</AttachmentMesh>
                <AttachmentMaterial>Content/Weapons/Attachments/Magazines/Materials/M_ExtendedMag</AttachmentMaterial>
                <SoundFile>/Game/Audio/Weapons/Attachments/attachment_install_01</SoundFile><AudioFlags>SPATIAL_3D | HIGH_PRIORITY</AudioFlags>
            </UE5Assets>

            <ModifierEffects>
                <ClipSizeMultiplier>1.5</ClipSizeMultiplier>
                <ReloadSpeed>0.9</ReloadSpeed>
                <MovementSpeed>0.95</MovementSpeed>
                <Weight>1.3</Weight>
            </ModifierEffects>

            <CompatibleWeapons>
                <Weapon>PISTOL</Weapon>
                <Weapon>DEAGLE</Weapon>
                <Weapon>AK47</Weapon>
                <Weapon>M4</Weapon>
            </CompatibleWeapons>

            <Cost>750</Cost>
            <Weight>0.4</Weight>
            <UnlockLevel>9</UnlockLevel>
        </Attachment>

        <Attachment name="DRUM_MAG" category="MAGAZINE">
            <DisplayName>Drum Magazine</DisplayName>
            <Description>Large capacity drum magazine</Description>
            <SkeletonPath>Content/Characters/PlayerNiko/Skeleton/SK_PlayerNiko</SkeletonPath>
            
            <UE5Assets>
                <AttachmentMesh>Content/Weapons/Attachments/Magazines/Meshes/SM_DrumMag</AttachmentMesh>
                <AttachmentMaterial>Content/Weapons/Attachments/Magazines/Materials/M_DrumMag</AttachmentMaterial>
                <SoundFile>/Game/Audio/Weapons/Attachments/attachment_install_01</SoundFile><AudioFlags>SPATIAL_3D | HIGH_PRIORITY</AudioFlags>
            </UE5Assets>

            <ModifierEffects>
                <ClipSizeMultiplier>2.5</ClipSizeMultiplier>
                <ReloadSpeed>0.7</ReloadSpeed>
                <MovementSpeed>0.85</MovementSpeed>
                <AimDownSightSpeed>0.8</AimDownSightSpeed>
                <Weight>2.0</Weight>
            </ModifierEffects>

            <CompatibleWeapons>
                <Weapon>AK47</Weapon>
                <Weapon>M4</Weapon>
            </CompatibleWeapons>

            <Cost>1400</Cost>
            <Weight>1.2</Weight>
            <UnlockLevel>15</UnlockLevel>
        </Attachment>

        <!-- ========== STOCKS ========== -->
        <Attachment name="TACTICAL_STOCK" category="STOCK">
            <DisplayName>Tactical Stock</DisplayName>
            <Description>Adjustable stock for improved stability</Description>
            <SkeletonPath>Content/Characters/PlayerNiko/Skeleton/SK_PlayerNiko</SkeletonPath>
            
            <UE5Assets>
                <AttachmentMesh>Content/Weapons/Attachments/Stocks/Meshes/SM_TacticalStock</AttachmentMesh>
                <AttachmentMaterial>Content/Weapons/Attachments/Stocks/Materials/M_TacticalStock</AttachmentMaterial>
                <SoundFile>/Game/Audio/Weapons/Attachments/attachment_install_01</SoundFile><AudioFlags>SPATIAL_3D | HIGH_PRIORITY</AudioFlags>
            </UE5Assets>

            <ModifierEffects>
                <RecoilReduction>0.8</RecoilReduction>
                <Stability>1.3</Stability>
                <AimDownSightSpeed>1.1</AimDownSightSpeed>
                <MovementSpeed>1.05</MovementSpeed>
            </ModifierEffects>

            <CompatibleWeapons>
                <Weapon>AK47</Weapon>
                <Weapon>M4</Weapon>
                <Weapon>SHOTGUN</Weapon>
                <Weapon>SNIPERRIFLE</Weapon>
            </CompatibleWeapons>

            <Cost>900</Cost>
            <Weight>0.5</Weight>
            <UnlockLevel>11</UnlockLevel>
        </Attachment>
    </Attachments>

    <!-- ========== WEAPON COMPATIBILITY MATRIX ========== -->
    <WeaponCompatibility>
        <!-- Pistols - Limited attachments -->
        <WeaponType name="PISTOL">
            <AllowedCategories>
                <Category>OPTICS</Category>
                <Category>BARREL</Category>
                <Category>SIDE</Category>
                <Category>MAGAZINE</Category>
            </AllowedCategories>
            <MaxAttachments>3</MaxAttachments>
            <AttachmentSlots>
                <Slot name="OpticSlot" category="OPTICS" required="false"/>
                <Slot name="BarrelSlot" category="BARREL" required="false"/>
                <Slot name="SideSlot" category="SIDE" required="false"/>
                <Slot name="MagazineSlot" category="MAGAZINE" required="false"/>
            </AttachmentSlots>
        </WeaponType>

        <WeaponType name="DEAGLE">
            <AllowedCategories>
                <Category>OPTICS</Category>
                <Category>BARREL</Category>
                <Category>SIDE</Category>
                <Category>MAGAZINE</Category>
            </AllowedCategories>
            <MaxAttachments>3</MaxAttachments>
            <AttachmentSlots>
                <Slot name="OpticSlot" category="OPTICS" required="false"/>
                <Slot name="BarrelSlot" category="BARREL" required="false"/>
                <Slot name="SideSlot" category="SIDE" required="false"/>
                <Slot name="MagazineSlot" category="MAGAZINE" required="false"/>
            </AttachmentSlots>
        </WeaponType>

        <!-- Shotguns - Barrel, optics, stocks -->
        <WeaponType name="SHOTGUN">
            <AllowedCategories>
                <Category>OPTICS</Category>
                <Category>BARREL</Category>
                <Category>GRIP</Category>
                <Category>SIDE</Category>
                <Category>STOCK</Category>
            </AllowedCategories>
            <MaxAttachments>4</MaxAttachments>
            <AttachmentSlots>
                <Slot name="OpticSlot" category="OPTICS" required="false"/>
                <Slot name="BarrelSlot" category="BARREL" required="false"/>
                <Slot name="GripSlot" category="GRIP" required="false"/>
                <Slot name="SideSlot" category="SIDE" required="false"/>
                <Slot name="StockSlot" category="STOCK" required="false"/>
            </AttachmentSlots>
        </WeaponType>

        <!-- Assault Rifles - Full customization -->
        <WeaponType name="AK47">
            <AllowedCategories>
                <Category>OPTICS</Category>
                <Category>BARREL</Category>
                <Category>GRIP</Category>
                <Category>SIDE</Category>
                <Category>MAGAZINE</Category>
                <Category>STOCK</Category>
            </AllowedCategories>
            <MaxAttachments>6</MaxAttachments>
            <AttachmentSlots>
                <Slot name="OpticSlot" category="OPTICS" required="false"/>
                <Slot name="BarrelSlot" category="BARREL" required="false"/>
                <Slot name="GripSlot" category="GRIP" required="false"/>
                <Slot name="SideSlot" category="SIDE" required="false"/>
                <Slot name="MagazineSlot" category="MAGAZINE" required="false"/>
                <Slot name="StockSlot" category="STOCK" required="false"/>
            </AttachmentSlots>
        </WeaponType>

        <WeaponType name="M4">
            <AllowedCategories>
                <Category>OPTICS</Category>
                <Category>BARREL</Category>
                <Category>GRIP</Category>
                <Category>SIDE</Category>
                <Category>MAGAZINE</Category>
                <Category>STOCK</Category>
            </AllowedCategories>
            <MaxAttachments>6</MaxAttachments>
            <AttachmentSlots>
                <Slot name="OpticSlot" category="OPTICS" required="false"/>
                <Slot name="BarrelSlot" category="BARREL" required="false"/>
                <Slot name="GripSlot" category="GRIP" required="false"/>
                <Slot name="SideSlot" category="SIDE" required="false"/>
                <Slot name="MagazineSlot" category="MAGAZINE" required="false"/>
                <Slot name="StockSlot" category="STOCK" required="false"/>
            </AttachmentSlots>
        </WeaponType>

        <!-- Sniper Rifles - Optics focused -->
        <WeaponType name="SNIPERRIFLE">
            <AllowedCategories>
                <Category>OPTICS</Category>
                <Category>BARREL</Category>
                <Category>GRIP</Category>
                <Category>STOCK</Category>
            </AllowedCategories>
            <MaxAttachments>4</MaxAttachments>
            <AttachmentSlots>
                <Slot name="OpticSlot" category="OPTICS" required="true"/>
                <Slot name="BarrelSlot" category="BARREL" required="false"/>
                <Slot name="GripSlot" category="GRIP" required="false"/>
                <Slot name="StockSlot" category="STOCK" required="false"/>
            </AttachmentSlots>
        </WeaponType>

        <!-- Heavy Weapons - No attachments -->
        <WeaponType name="RLAUNCHER">
            <AllowedCategories>
            </AllowedCategories>
            <MaxAttachments>0</MaxAttachments>
            <AttachmentSlots>
            </AttachmentSlots>
        </WeaponType>

        <!-- Thrown Weapons - No attachments -->
        <WeaponType name="GRENADE">
            <AllowedCategories>
            </AllowedCategories>
            <MaxAttachments>0</MaxAttachments>
            <AttachmentSlots>
            </AttachmentSlots>
        </WeaponType>

        <!-- Mounted Weapons - No attachments -->
        <WeaponType name="VEHICLE_MINIGUN">
            <AllowedCategories>
            </AllowedCategories>
            <MaxAttachments>0</MaxAttachments>
            <AttachmentSlots>
            </AttachmentSlots>
        </WeaponType>

        <WeaponType name="STATIONARY_MG">
            <AllowedCategories>
            </AllowedCategories>
            <MaxAttachments>0</MaxAttachments>
            <AttachmentSlots>
            </AttachmentSlots>
        </WeaponType>
    </WeaponCompatibility>

    <!-- ========== UE5 ATTACHMENT SYSTEM ========== -->
    <UE5AttachmentSystem>
        <AttachmentManager>
            <ManagerClass>CWeaponAttachmentManager</ManagerClass>
            <AttachmentInterface>IWeaponAttachment</AttachmentInterface>
            <SoundClass>WeaponAttachmentSoundClass</SoundClass>
        </AttachmentManager>

        <AttachmentEvents>
            <OnAttachmentInstalled>OnWeaponAttachmentInstalled</OnAttachmentInstalled>
            <OnAttachmentRemoved>OnWeaponAttachmentRemoved</OnAttachmentRemoved>
            <OnAttachmentActivated>OnWeaponAttachmentActivated</OnAttachmentActivated>
            <OnAttachmentDeactivated>OnWeaponAttachmentDeactivated</OnAttachmentDeactivated>
            <OnAttachmentDetached>OnWeaponAttachmentDetached</OnAttachmentDetached>
            <OnAttachmentDestroyed>OnWeaponAttachmentDestroyed</OnAttachmentDestroyed>
        </AttachmentEvents>

        <AttachmentUI>
            <WeaponCustomizationWidget>Content/UI/Weapons/W_WeaponCustomization</WeaponCustomizationWidget>
            <AttachmentPreviewWidget>Content/UI/Weapons/W_AttachmentPreview</AttachmentPreviewWidget>
            <AttachmentInventoryWidget>Content/UI/Weapons/W_AttachmentInventory</AttachmentInventoryWidget>
        </AttachmentUI>

        <AttachmentPhysics>
            <UseChaosPhysics>true</UseChaosPhysics>
            <AttachmentCollision>true</AttachmentCollision>
            <WeightCalculation>true</WeightCalculation>
            <BalanceCalculation>true</BalanceCalculation>
            <DetachmentSimulation>true</DetachmentSimulation>
            <DamageBasedDetachment>true</DamageBasedDetachment>
        </AttachmentPhysics>
    </UE5AttachmentSystem>
</WeaponAttachments>
